<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><title type="text" xml:lang="en">Posts Tagged “Jekyll” – Development, design, and more by David Ensinger</title><link type="application/atom+xml" rel="self" href="http://davidensinger.com/tag/jekyll/atom.xml"/><link href="http://davidensinger.com/"/><id>http://davidensinger.com/</id><updated>2014-01-23T10:21:45Z</updated><author><name>David Ensinger</name><email>hello@davidensinger.com</email></author><rights type="text">Copyright © 2014 David Ensinger. All rights reserved.</rights><entry><title type="text">Building a Better Sitemap.xml with Jekyll</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll/"/><id>http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll</id><published>2013-11-03T11:50:00Z</published><updated>2013-11-03T11:50:00Z</updated><content type="html"><![CDATA[ <p>In the past several months I’ve made many incremental improvements to this website, including how I generate my <a href="http://davidensinger.com/sitemap.xml">Sitemap.xml</a>. While my revisions are certainly not jaw dropping, they have definitely improved the quality of my sitemap and are thus worth writing about, if only to provide a reference point to other developers. To that end, here’s a note about the changes I’ve made in my current implementation.</p>

<h2>Previous Configuration</h2>

<p>In an earlier post, <a href="http://davidensinger.com/2013/03/generating-a-sitemap-in-jekyll-without-a-plugin/">Generating a Sitemap in Jekyll without a Plugin</a>, I went over the configuration of my previous sitemap, which looked like this:</p>

<div class="highlight"><pre><code class="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;urlset</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span><span class="nt">&gt;</span>
  {% for post in site.posts %}
    <span class="nt">&lt;url&gt;</span>
      <span class="nt">&lt;loc&gt;</span>{{ site.baseurl }}{{ post.url }}<span class="nt">&lt;/loc&gt;</span>
      {% if post.lastmod == null %}
        <span class="nt">&lt;lastmod&gt;</span>{{ post.date | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
      {% else %}
        <span class="nt">&lt;lastmod&gt;</span>{{ post.lastmod | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
      {% endif %}
      <span class="nt">&lt;changefreq&gt;</span>weekly<span class="nt">&lt;/changefreq&gt;</span>
      <span class="nt">&lt;priority&gt;</span>1.0<span class="nt">&lt;/priority&gt;</span>
    <span class="nt">&lt;/url&gt;</span>
  {% endfor %}
  {% for page in site.pages %}
    {% if page.sitemap != null and page.sitemap != empty %}
      <span class="nt">&lt;url&gt;</span>
        <span class="nt">&lt;loc&gt;</span>{{ site.baseurl }}{{ page.url }}<span class="nt">&lt;/loc&gt;</span>
        <span class="nt">&lt;lastmod&gt;</span>{{ page.sitemap.lastmod | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
        <span class="nt">&lt;changefreq&gt;</span>{{ page.sitemap.changefreq }}<span class="nt">&lt;/changefreq&gt;</span>
        <span class="nt">&lt;priority&gt;</span>{{ page.sitemap.priority }}<span class="nt">&lt;/priority&gt;</span>
       <span class="nt">&lt;/url&gt;</span>
    {% endif %}
  {% endfor %}
<span class="nt">&lt;/urlset&gt;</span>
</code></pre></div>


<h2>Current Configuration</h2>

<p>For my current implementation, I made the following changes:</p>

<ul>
<li>The <code>urlset</code> is much more terse as I stripped away all the attributes, save for <strong>xmlns</strong></li>
<li>My top level page is now included, although the <code>changefreq</code> is admittedly wishful thinking on my part :)</li>
<li>The <code>changefreq</code> and <code>priority</code> elements for my pages and posts may be omitted, as those elements now have fallback values.</li>
</ul>


<div class="highlight"><pre><code class="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;urlset</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>{{ site.url }}/<span class="nt">&lt;/loc&gt;</span>
    <span class="nt">&lt;lastmod&gt;</span>{{ site.time | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
    <span class="nt">&lt;changefreq&gt;</span>weekly<span class="nt">&lt;/changefreq&gt;</span>
    <span class="nt">&lt;priority&gt;</span>1.0<span class="nt">&lt;/priority&gt;</span>
  <span class="nt">&lt;/url&gt;</span>
  {% for post in site.posts %}
    <span class="nt">&lt;url&gt;</span>
      <span class="nt">&lt;loc&gt;</span>{{ site.url }}{{ post.url }}<span class="nt">&lt;/loc&gt;</span>
      {% if post.sitemap.lastmod %}
        <span class="nt">&lt;lastmod&gt;</span>{{ post.sitemap.lastmod | date: &quot;%Y-%m-%d&quot; }}<span class="nt">&lt;/lastmod&gt;</span>
      {% elsif post.date %}
        <span class="nt">&lt;lastmod&gt;</span>{{ post.date | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
      {% else %}
        <span class="nt">&lt;lastmod&gt;</span>{{ site.time | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
      {% endif %}
      {% if post.sitemap.changefreq %}
        <span class="nt">&lt;changefreq&gt;</span>{{ post.sitemap.changefreq }}<span class="nt">&lt;/changefreq&gt;</span>
      {% else %}
        <span class="nt">&lt;changefreq&gt;</span>monthly<span class="nt">&lt;/changefreq&gt;</span>
      {% endif %}
      {% if post.sitemap.priority %}
        <span class="nt">&lt;priority&gt;</span>{{ post.sitemap.priority }}<span class="nt">&lt;/priority&gt;</span>
      {% else %}
        <span class="nt">&lt;priority&gt;</span>0.5<span class="nt">&lt;/priority&gt;</span>
      {% endif %}
    <span class="nt">&lt;/url&gt;</span>
  {% endfor %}
  {% for page in site.pages %}
  <span class="nt">&lt;url&gt;</span>
    <span class="nt">&lt;loc&gt;</span>{{ site.url }}{{ page.url }}<span class="nt">&lt;/loc&gt;</span>
    {% if page.sitemap.lastmod %}
      <span class="nt">&lt;lastmod&gt;</span>{{ page.sitemap.lastmod | date: &quot;%Y-%m-%d&quot; }}<span class="nt">&lt;/lastmod&gt;</span>
    {% elsif page.date %}
      <span class="nt">&lt;lastmod&gt;</span>{{ page.date | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
    {% else %}
      <span class="nt">&lt;lastmod&gt;</span>{{ site.time | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
    {% endif %}
    {% if page.sitemap.changefreq %}
      <span class="nt">&lt;changefreq&gt;</span>{{ page.sitemap.changefreq }}<span class="nt">&lt;/changefreq&gt;</span>
    {% else %}
      <span class="nt">&lt;changefreq&gt;</span>monthly<span class="nt">&lt;/changefreq&gt;</span>
    {% endif %}
    {% if page.sitemap.priority %}
      <span class="nt">&lt;priority&gt;</span>{{ page.sitemap.priority }}<span class="nt">&lt;/priority&gt;</span>
    {% else %}
      <span class="nt">&lt;priority&gt;</span>0.3<span class="nt">&lt;/priority&gt;</span>
    {% endif %}
  <span class="nt">&lt;/url&gt;</span>
  {% endfor %}
<span class="nt">&lt;/urlset&gt;</span>
</code></pre></div>


<h2>Front Matter</h2>

<p>I can now add the following variables, all of which are optional, to the front matter of my posts and pages:</p>

<div class="highlight"><pre><code class="yaml"><span class="l-Scalar-Plain">sitemap</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">lastmod</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2014-01-23</span>
  <span class="l-Scalar-Plain">priority</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.7</span>
  <span class="l-Scalar-Plain">changefreq</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">monthly</span>
</code></pre></div>


<p>As you can see, the changes I made are simple, but put together they make for a much more flexible implementation.</p>

<div class="gray-box">
  <p><strong>More Info:</strong> Visit the official <a href="http://www.sitemaps.org/">sitemaps.org</a> to learn more about the protocol.</p>
</div>

 ]]></content></entry><entry><title type="text">Suggested Tweet Plugin for Jekyll</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/09/suggested-tweet-plugin-for-jekyll/"/><id>http://davidensinger.com/2013/09/suggested-tweet-plugin-for-jekyll</id><published>2013-09-16T12:50:00Z</published><updated>2013-09-16T12:50:00Z</updated><content type="html"><![CDATA[ <p>It’s always a really nice feeling when one sees one’s posts shared with others, usually via blog post or Tweet. In the spirit of encouraging more of this, I present to you the <a href="https://github.com/davidensinger/jekyll-suggested-tweet">Suggested Tweet</a> plugin for <a href="http://jekyllrb.com/">Jekyll</a>. With this plugin, visitors to your site need no longer grope for words while they attempt to share your content!</p>

<h2>About the Plugin</h2>

<p>The <strong>Suggested Tweet</strong> plugin is a custom <a href="http://wiki.shopify.com/Liquid">Liquid Tag</a> for <strong>Jekyll</strong> that allows for the embedding of suggested tweets via <a href="https://dev.twitter.com/docs/intents">Twitter’s Web Intents API</a>. It makes liberal use of <a href="http://richhollis.co.uk/">Rich Hollis’s</a> <a href="https://github.com/richhollis/twitter_web_intents">Twitter Web Intents Ruby Gem</a> and was lovingly made by <a href="http://2john4tv.biz/">John Colvin</a> and me.</p>

<h2>Installation</h2>

<ol>
<li>Copy <strong>suggested-tweet.rb</strong> into your site’s <strong>_plugins</strong> directory</li>
<li>Install <strong>twitter_web_intents gem</strong>, either manually or via <strong>Bundler</strong></li>
<li>Add desired parameters to <strong>_config.yml</strong></li>
<li>Add desired parameters to <strong>YAML front-matter</strong> of page</li>
<li>Add <code>{% suggested_tweet %}</code> tag to your post or template.</li>
</ol>


<h2>Configuration</h2>

<p>The following parameters may be set globally in <strong>_config.yml</strong> or on a per page basis in the <strong>YAML front-matter</strong>. Parameters set in the <strong>YAML front-matter</strong> take precedence over those set in <strong>_config.yml</strong>. Note that all parameters are optional, although be sure to set at least one!</p>

<div class="highlight"><pre><code class="yaml"><span class="l-Scalar-Plain">suggested_tweet</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span>                  <span class="s">&#39;http://davidensinger.com/&#39;</span>
  <span class="l-Scalar-Plain">via</span><span class="p-Indicator">:</span>                  <span class="s">&#39;davidensinger&#39;</span>
  <span class="l-Scalar-Plain">text</span><span class="p-Indicator">:</span>                 <span class="s">&#39;Hello</span><span class="nv"> </span><span class="s">world&#39;</span>
  <span class="l-Scalar-Plain">in_reply_to</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">331434728957833218</span>
  <span class="l-Scalar-Plain">hashtags</span><span class="p-Indicator">:</span>             <span class="p-Indicator">[</span><span class="s">&#39;Jekyll&#39;</span><span class="p-Indicator">,</span> <span class="s">&#39;Twitter&#39;</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">related</span><span class="p-Indicator">:</span>              <span class="p-Indicator">[</span><span class="s">&#39;davidensinger&#39;</span><span class="p-Indicator">,</span> <span class="s">&#39;richhollis&#39;</span><span class="p-Indicator">,</span> <span class="s">&#39;2john4tv&#39;</span><span class="p-Indicator">]</span>
</code></pre></div>


<h2>Usage</h2>

<p>Put the custom Liquid tag anywhere you want, whether that be within a post, layout, or include:</p>

<p><code>{% suggested_tweet %}</code></p>

<h2>Output</h2>

<p>The tag renders as a properly encoded URL:</p>

<p><code>https://twitter.com/intent/tweet?hashtags=Jekyll,Twitter&amp;in_reply_to=331434728957833218&amp;related=davidensinger,richhollis,2john4tv&amp;text=Hello+world&amp;url=http%3A%2F%2Fdavidensinger.com&amp;via=davidensinger</code></p>

<h2>Liquid Output for Parameters</h2>

<p>Any (and all) of the parameters may be used together with the <strong>Suggested Tweet</strong> tag. These may be helpful if decide to include the tag outside of a post and in a template:</p>

<ul>
<li><strong>_config.yml:</strong> <code>{{ site.suggested_tweet.text }}</code></li>
<li><strong>YAML front matter:</strong> <code>{{ page.suggested_tweet.text }}</code></li>
</ul>


<h2>A Practical Example</h2>

<p>The following block of code can be found in the footer of my <a href="https://github.com/davidensinger/davidensinger.github.io/blob/source/_layouts/post.html">posts template</a>. You’ll see that I only print out the <strong>text</strong> and <strong>hashtags</strong> parameters, even though all six variables are available to me. This is due to parameters not displaying to my liking (<strong>url</strong> and <strong>via</strong>) or not displaying at all (<strong>in_reply_to</strong> and <strong>related</strong>) and for styling purposes as well.</p>

<div class="highlight"><pre><code class="html">{% if page.suggested_tweet %}
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;entry-meta-suggested-tweet&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;suggested-tweet-title&quot;</span><span class="nt">&gt;</span>Spread the Word<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{% suggested_tweet %}&quot;</span> <span class="na">class=</span><span class="s">&quot;suggested-tweet-bubble&quot;</span><span class="nt">&gt;</span>
      {% if page.suggested_tweet.text != empty %}
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;suggested-tweet-text&quot;</span><span class="nt">&gt;</span>{{ page.suggested_tweet.text }}<span class="nt">&lt;/span&gt;</span>
      {% endif %}
      {% if page.suggested_tweet.hashtags != empty %}
        {% for hashtag in page.suggested_tweet.hashtags %}
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;suggested-tweet-hashtag&quot;</span><span class="nt">&gt;</span>#{{ hashtag }}<span class="nt">&lt;/span&gt;</span>
        {% endfor %}
      {% endif %}
    <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;suggested-tweet-link&quot;</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;{% suggested_tweet %}&quot;</span> <span class="na">class=</span><span class="s">&quot;icon-left icon-twitter&quot;</span><span class="nt">&gt;</span>Click to Tweet<span class="nt">&lt;/a&gt;</span> <span class="nt">&lt;small&gt;</span>(you may edit before posting.)<span class="nt">&lt;/small&gt;&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
{% endif %}
</code></pre></div>


<h2>Roadmap</h2>

<ul>
<li>Add an option to allow for parameters to be combined if 1) they’ve been set in both <strong>_config.yml</strong> and <strong>YAML front-matter</strong> of a page and 2) they accept multiple values, such as hashtags and related</li>
<li>Allow for parameters to be set within the tag itself, but without using a regular expression to do so. Possible? Yay or nay?</li>
</ul>

 ]]></content></entry><entry><title type="text">Automating Jekyll Deployment to GitHub Pages with Rake</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/07/automating-jekyll-deployment-to-github-pages-with-rake/"/><id>http://davidensinger.com/2013/07/automating-jekyll-deployment-to-github-pages-with-rake</id><published>2013-07-23T09:24:00Z</published><updated>2013-07-23T09:24:00Z</updated><content type="html"><![CDATA[ <p>I recently automated the deployment of my site to <strong>GitHub Pages</strong>, which is something that <a href="http://davidensinger.com/2013/04/deploying-jekyll-to-github-pages/">I’ve wanted to do for awhile</a>. Whereas I would previously enter a string of commands into the terminal, I now use <strong>Rake</strong> to handle those commands for me.</p>

<h2>What is Rake</h2>

<p>For those who don’t know (and this was me until recently), <a href="http://rake.rubyforge.org/">Rake</a> is “a simple ruby build program with capabilities similar to make.” In other words, it’s a tool that helps automate the tedium that often comes with managing a website.</p>

<div class="gray-box">
  <p><strong>More Info:</strong> Jason Seifer has a pretty good <a href="http://jasonseifer.com/2010/04/06/rake-tutorial">Rake Tutorial</a> for developers new to Rake.</p>
</div>


<h2>My Workflow</h2>

<p>I’ve set up Jekyll to consist of two branches: <strong>source</strong> and <strong>master</strong>. The source branch consists of the entire project and as such tracks all changes, while the master branch consists solely of the compiled site, which can be found in the <strong>_site</strong> subdirectory.</p>

<p>My typical workflow is to write a post (or modify the site design) and then commit whatever I’ve changed until the only files that remain uncommitted are in the <strong>_site</strong> subdirectory. I then stage and commit those files with a generic message that includes the current time.</p>

<h2>Commit</h2>

<p>Here’s what my commit rake task currently looks like, although I’d consult the <a href="https://github.com/davidensinger/davidensinger.github.io/blob/source/Rakefile">Rakefile</a> for a more future-proof version.</p>

<div class="highlight"><pre><code class="ruby"><span class="n">desc</span> <span class="s2">&quot;Commit _site/&quot;</span>
<span class="n">task</span> <span class="ss">:commit</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Staging modified files&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git add -A&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Committing a site build at </span><span class="si">#{</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">utc</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Build site at </span><span class="si">#{</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">utc</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git commit -m </span><span class="se">\&quot;</span><span class="si">#{</span><span class="n">message</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Pushing commits to remote&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git push origin source&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
<span class="k">end</span>
</code></pre></div>


<h1>Deploy</h1>

<p>Once everything is committed I go through the steps I outlined in <a href="http://davidensinger.com/2013/04/deploying-jekyll-to-github-pages/">Deploying Jekyll with Plugins to GitHub Pages</a>. Again, I’d check the <a href="https://github.com/davidensinger/davidensinger.github.io/blob/source/Rakefile">Rakefile</a> in the event I change something and forget to update this post.</p>

<div class="highlight"><pre><code class="ruby"><span class="n">desc</span> <span class="s2">&quot;Deploy _site/ to master branch&quot;</span>
<span class="n">task</span> <span class="ss">:deploy</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Deleting master branch&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git branch -D master&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Creating new master branch and switching to it&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git checkout -b master&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Forcing the _site subdirectory to be project root&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git filter-branch --subdirectory-filter _site/ -f&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Switching back to source branch&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git checkout source&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## Pushing all branches to origin&quot;</span>
  <span class="n">status</span> <span class="o">=</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;git push --all origin&quot;</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">status</span> <span class="p">?</span> <span class="s2">&quot;Success&quot;</span> <span class="p">:</span> <span class="s2">&quot;Failed&quot;</span>
<span class="k">end</span>
</code></pre></div>


<h2>Commit and Deploy</h2>

<p>Finally, I’ve gone ahead and combined them into one task to save myself the burden of typing two separate commands everytime I want to update my website.</p>

<div class="highlight"><pre><code class="ruby"><span class="n">desc</span> <span class="s2">&quot;Commit and deploy _site/&quot;</span>
<span class="n">task</span> <span class="ss">:commit_deploy</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:commit</span><span class="p">,</span> <span class="ss">:deploy</span><span class="o">]</span> <span class="k">do</span>
<span class="k">end</span>
</code></pre></div>


<h2>What’s Next?</h2>

<p>Not only have I automated the deployment of my site, but I’ve also used Rake to create development and production builds. This has allowed me to implement Sass source maps and easily minify my assets, which I’ll detail in subsequent posts! Stay tuned :)</p>
 ]]></content></entry><entry><title type="text">Adding Open Graph Tags to Jekyll</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/04/adding-open-graph-tags-to-jekyll/"/><id>http://davidensinger.com/2013/04/adding-open-graph-tags-to-jekyll</id><published>2013-04-21T16:05:00Z</published><updated>2013-04-21T16:05:00Z</updated><content type="html"><![CDATA[ <p>What is the <a href="http://ogp.me/">Open Graph</a> protocol? Per <strong>Facebook</strong>, it “enables any web page to become a rich object in a social graph.” The documentation goes on to state that “to turn your web pages into graph objects, you need to add basic metadata to your page.” Put more simply, add <strong>Open Graph meta tags</strong> to your website to have greater control over how your content is displayed when shared via Facebook.</p>

<h2>Basic Metadata</h2>

<p>The basic metadata includes a <strong>title</strong>, <strong>object type</strong>, <strong>image</strong>, and <strong>url</strong>, as per the documentation:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Title&quot;</span> <span class="na">property=</span><span class="s">&quot;og:title&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Type&quot;</span> <span class="na">property=</span><span class="s">&quot;og:type&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Image&quot;</span> <span class="na">property=</span><span class="s">&quot;og:image&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;URL&quot;</span> <span class="na">property=</span><span class="s">&quot;og:url&quot;</span><span class="nt">&gt;</span>
</code></pre></div>


<p>I’ve also included a <strong>site name</strong> and <strong>description</strong>:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Site Name&quot;</span> <span class="na">property=</span><span class="s">&quot;og:site_name&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Description&quot;</span> <span class="na">property=</span><span class="s">&quot;og:description&quot;</span><span class="nt">&gt;</span>
</code></pre></div>


<h3>Object Types</h3>

<p>There are many different <a href="http://ogp.me/#types">object types</a> to which you may categorize your page: music, video, article, book, profile, and website, amongst others. The two types that are relevant to my site are <strong>article</strong> and <strong>website</strong>, the latter being the object type that I’ll fall back upon for every page that isn’t a post.</p>

<h4>Article</h4>

<p>The article object type has several possible values, but I’m only using <strong>article:published_time</strong>, <strong>article:author</strong>, <strong>article:section</strong>, and <strong>article:tag</strong> for my site:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Time&quot;</span> <span class="na">property=</span><span class="s">&quot;article:published_time&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Author&quot;</span> <span class="na">property=</span><span class="s">&quot;article:author&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Category&quot;</span> <span class="na">property=</span><span class="s">&quot;article:section&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;Tag&quot;</span> <span class="na">property=</span><span class="s">&quot;article:tag&quot;</span><span class="nt">&gt;</span>
</code></pre></div>


<h2>Code</h2>

<div class="yellow-box">
  <p><strong>Please Note:</strong> I’ve skipped the explanations for some of the following conditional statements because they’re identical to those that I wrote about in my <a href="http://davidensinger.com/2013/04/supporting-twitter-cards-with-jekyll/">Supporting Twitter Cards with Jekyll</a> post. See that post for further information.</p>
</div>


<p>For the categories and tags, I’m using a for loop to output the appropriate meta tags. Open Graph tags only allow for one section, so I limit that to the first category. It’s rather arbitrary, but it works.</p>

<div class="highlight"><pre><code class="html">{% if page.categories %}
  {% for category in page.categories limit:1 %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ category }}&quot;</span> <span class="na">property=</span><span class="s">&quot;article:section&quot;</span><span class="nt">&gt;</span>
  {% endfor %}
{% endif %}
{% if page.tags %}
  {% for tag in page.tags %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ tag }}&quot;</span> <span class="na">property=</span><span class="s">&quot;article:tag&quot;</span><span class="nt">&gt;</span>
  {% endfor %}
{% endif %}
</code></pre></div>


<p>Here’s the final snippet of code with the appropriate meta data:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.title }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:site_name&quot;</span><span class="nt">&gt;</span>
{% if page.title %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ page.title }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:title&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.title }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:title&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.title %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;article&quot;</span> <span class="na">property=</span><span class="s">&quot;og:type&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;website&quot;</span> <span class="na">property=</span><span class="s">&quot;og:type&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.description %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ page.description }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:description&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.description }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:description&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.url %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}{{ page.url }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:url&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.date %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ page.date | date_to_xmlschema }}&quot;</span> <span class="na">property=</span><span class="s">&quot;article:published_time&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/about/&quot;</span> <span class="na">property=</span><span class="s">&quot;article:author&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.image %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/assets/img/posts/{{ page.image }}&quot;</span> <span class="na">property=</span><span class="s">&quot;og:image&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/assets/img/logo-high-resolution.png&quot;</span> <span class="na">property=</span><span class="s">&quot;og:image&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.categories %}
  {% for category in page.categories limit:1 %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ category }}&quot;</span> <span class="na">property=</span><span class="s">&quot;article:section&quot;</span><span class="nt">&gt;</span>
  {% endfor %}
{% endif %}
{% if page.tags %}
  {% for tag in page.tags %}
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">&quot;{{ tag }}&quot;</span> <span class="na">property=</span><span class="s">&quot;article:tag&quot;</span><span class="nt">&gt;</span>
  {% endfor %}
{% endif %}
</code></pre></div>


<h2>Validate</h2>

<p>To verify that your code validates, see the <a href="https://developers.facebook.com/tools/debug">Facebook Debugger</a>.</p>
 ]]></content></entry><entry><title type="text">Supporting Twitter Cards with Jekyll</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/04/supporting-twitter-cards-with-jekyll/"/><id>http://davidensinger.com/2013/04/supporting-twitter-cards-with-jekyll</id><published>2013-04-17T18:16:00Z</published><updated>2013-04-17T18:16:00Z</updated><content type="html"><![CDATA[ <p>I just added support for <a href="https://dev.twitter.com/docs/cards">Twitter Cards</a> to my website because I wanted more control over how my site displays on Twitter. There are six different card types, although the only one that’s appropriate for my site is the <a href="http://dev.twitter.com/docs/cards/types/summary-card">Summary Card</a>, which lets users preview site content within a tweet.</p>

<h2>Summary Card</h2>

<p>The Summary Card is the default and includes a title, description, thumbnail, and Twitter account attribution. The following markup is provided by the developer docs:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:card&quot;</span> <span class="na">content=</span><span class="s">&quot;summary&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:site&quot;</span> <span class="na">content=</span><span class="s">&quot;@site_username&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:title&quot;</span> <span class="na">content=</span><span class="s">&quot;Title&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:url&quot;</span> <span class="na">content=</span><span class="s">&quot;URL&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:description&quot;</span> <span class="na">content=</span><span class="s">&quot;Up than 200 characters.&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:creator&quot;</span> <span class="na">content=</span><span class="s">&quot;@creator_username&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:image:src&quot;</span> <span class="na">content=</span><span class="s">&quot;http://path/to/image.jpg&quot;</span><span class="nt">&gt;</span>
</code></pre></div>


<h3>Card, Site, and Creator</h3>

<p>These three meta tags and their values stay constant, regardless of page content. I use my Twitter handle for both <em>site</em> and <em>creator</em>, although I’m not sure that I need to. I figure that it can’t hurt to do so, though.</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:card&quot;</span> <span class="na">content=</span><span class="s">&quot;summary&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:site&quot;</span> <span class="na">content=</span><span class="s">&quot;@site_username&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:creator&quot;</span> <span class="na">content=</span><span class="s">&quot;@creator_username&quot;</span><span class="nt">&gt;</span>
</code></pre></div>


<h3>Title</h3>

<p>I’ve denoted a site title in my <strong>_config.yml</strong> and a page title in the <strong>YAML Front Matter</strong> block that’s specific to every page and post on my site.</p>

<div class="highlight"><pre><code class="html">{% if page.title %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:title&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ page.title }}&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:title&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.title }}&quot;</span><span class="nt">&gt;</span>
{% endif %}
</code></pre></div>


<h3>URL</h3>

<p>I’ve also specified a <em>site.url</em> output as an absolute path in my in my <strong>_config.yml</strong>, as well as a <em>page.url</em> output in my <strong>YAML Front Matter</strong> block.</p>

<div class="highlight"><pre><code class="html">{% if page.url %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:url&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}{{ page.url }}&quot;</span><span class="nt">&gt;</span>
{% endif %}
</code></pre></div>


<h3>Description</h3>

<p>Likewise, I have a general site description and a page specific description:</p>

<div class="highlight"><pre><code class="html">{% if page.description %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ page.description }}&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.description }}&quot;</span><span class="nt">&gt;</span>
{% endif %}
</code></pre></div>


<p>A different approach to the page description is to escape and truncate the page content, which is how <a href="http://paulstamatiou.com/responsive-retina-blog-development-part-1">Paul Stamatiou handles it</a>:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ page.content | strip_html | xml_escape | truncate: 200 }}&quot;</span><span class="nt">&gt;</span>
</code></pre></div>


<h3>Image</h3>

<p>I’ve also set a default image, if there’s not an image for the current page.</p>

<div class="highlight"><pre><code class="html">{% if page.image %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:image:src&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/path/to/image/{{ page.image }}&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:image:src&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/path/to/image/logo.png&quot;</span><span class="nt">&gt;</span>
{% endif %}
</code></pre></div>


<h2>All Together Now</h2>

<p>Here’s what my final block of code looks like:</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:card&quot;</span> <span class="na">content=</span><span class="s">&quot;summary&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:site&quot;</span> <span class="na">content=</span><span class="s">&quot;@site_username&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:creator&quot;</span> <span class="na">content=</span><span class="s">&quot;@creator_username&quot;</span><span class="nt">&gt;</span>
{% if page.title %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:title&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ page.title }}&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:title&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.title }}&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.url %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:url&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}{{ page.url }}&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.description %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ page.description }}&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.description }}&quot;</span><span class="nt">&gt;</span>
{% endif %}
{% if page.image %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:image:src&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/path/to/image/{{ page.image }}&quot;</span><span class="nt">&gt;</span>
{% else %}
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;twitter:image:src&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.url }}/path/to/image/logo.png&quot;</span><span class="nt">&gt;</span>
{% endif %}
</code></pre></div>


<h2>Validate</h2>

<p>If you’re curious if your code validates, Twitter has provided a <a href="https://dev.twitter.com/docs/cards/validation/validator">validator</a> so you can easily check. You’ll need to pass the validation test before you can submit a <strong>Domain Approval Request</strong>, which will whitelist your website for inclusion with the service. It shouldn’t take much time at all to be approved.</p>

<div class="gray-box">
  <p><strong>More Info:</strong> David Walsh has a really great overview of <a href="http://davidwalsh.name/twitter-cards">Twitter Cards</a>, which is well worth a read.</p>
</div>

 ]]></content></entry><entry><title type="text">Deploying Jekyll with Plugins to GitHub Pages</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/04/deploying-jekyll-to-github-pages/"/><id>http://davidensinger.com/2013/04/deploying-jekyll-to-github-pages</id><published>2013-04-08T06:30:00Z</published><updated>2013-04-08T06:30:00Z</updated><content type="html"><![CDATA[ <p>In spite of my resolution to design and develop this website simply, I’ve decided to run <strong>Jekyll</strong> with plugins. This complicates my deployment because <strong>GitHub Pages</strong> runs Jekyll in <code>--safe</code> mode, which quite reasonably prevents the running of arbitrary Ruby code on the GitHub servers.</p>

<div class="yellow-box">
  <p><strong>Update:</strong> I’ve since succeeded in automating this, which I detail in <a href="http://davidensinger.com/2013/07/automating-jekyll-deployment-to-github-pages-with-rake/">Automating Jekyll Deployment to GitHub Pages with Rake</a>.</p>
</div>


<p>To work around this limitation, the consensus amongst developers is to create two branches: one for development (that I’ve named <em>source</em>) and the other solely for the compiled <strong>_site</strong>. In the former branch I’ll add additionally functionality via custom plugins, while the latter branch will serve as the <em>master</em> that GitHub uses to publish the site.</p>

<p>I’ve chosen to follow these <a href="https://github.com/rson/rson.github.com">excellent deployment steps</a> by <a href="http://rsontech.net/">Randy Morris</a>, which I’ll list below with brief explanations as to what each command does.</p>

<p>Delete <em>master</em> branch:</p>

<pre><code>git branch -D master
</code></pre>

<p>Check out a new <em>master</em> branch:</p>

<pre><code>git checkout -b master
</code></pre>

<p>Force the <em>_site/</em> subdirectory to be project root:</p>

<pre><code>git filter-branch --subdirectory-filter _site/ -f
</code></pre>

<p>Checkout the <em>source</em> branch:</p>

<pre><code>git checkout source
</code></pre>

<p>Push all branches to origin:</p>

<pre><code>git push --all origin
</code></pre>

<p>Pretty simple, right? I’m glad that I’ll now be able to add categories and tags to my site, which is next on my todo list!</p>

<h2>Next Steps</h2>

<p>I’d like to automate this by including these deployment commands into a build script that concatenates, minifies, and (when applicable) optimizes my assets after Jekyll compiles the site. Still working on that, though!</p>
 ]]></content></entry><entry><title type="text">Generating a Sitemap in Jekyll without a Plugin</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/03/generating-a-sitemap-in-jekyll-without-a-plugin/"/><id>http://davidensinger.com/2013/03/generating-a-sitemap-in-jekyll-without-a-plugin</id><published>2013-03-29T06:26:00Z</published><updated>2013-03-29T06:26:00Z</updated><content type="html"><![CDATA[ <p>During my switch from <strong>WordPress</strong> to <strong>Jekyll</strong>, I decided to simplify the scope of my site. One of the changes I made was to remove my portfolio, as I’d like to put more of an emphasis on my writing than on my past projects. As a result, I culled many pages that were indexed by search engines. This meant that I needed a proper <strong>sitemap.xml</strong>, principally for use with Google’s <a href="www.google.com/webmasters/tools">Webmaster Tools</a>.</p>

<div class="red-box">
  <p><strong>Please Note:</strong> I’ve since updated the configuration of my <strong>Sitemap.xml</strong>, which I’ve written about in <a href="http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll/">Building a Better Sitemap.xml with Jekyll</a>.</p>
</div>


<p>My initial thought was to find a plugin, but I then realized that wasn’t possible. I host the site on <strong>GitHub Pages</strong>, which runs Jekyll in <code>--safe</code> mode. This means that I can’t use any custom plugins and that precludes the implementation of the most popular plugin, which is the <a href="http://www.kinnetica.com/projects/jekyll-sitemap-generator/">Sitemap.xml Generator</a>.</p>

<p>One way around this limitation would be to generate the site locally with a source branch and then compile the pages on a master branch to push to GitHub. There are clear benefits to doing it this way, but for the time being I’d prefer to keep my site simple and let GitHub do the compiling.</p>

<p>My cursory search for a plugin-less solution led to this <a href="https://github.com/havvg/havvg.github.com/blob/master/sitemap.xml">sitemap.xml</a> by <a href="https://github.com/havvg">havvg</a>.</p>

<div class="highlight"><pre><code class="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;urlset</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span><span class="nt">&gt;</span>
  {% for post in site.posts %}
    <span class="nt">&lt;url&gt;</span>
      <span class="nt">&lt;loc&gt;</span>{{ site.baseurl }}{{ post.url }}<span class="nt">&lt;/loc&gt;</span>
      {% if post.lastmod == null %}
        <span class="nt">&lt;lastmod&gt;</span>{{ post.date | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
      {% else %}
        <span class="nt">&lt;lastmod&gt;</span>{{ post.lastmod | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
      {% endif %}
      <span class="nt">&lt;changefreq&gt;</span>weekly<span class="nt">&lt;/changefreq&gt;</span>
      <span class="nt">&lt;priority&gt;</span>1.0<span class="nt">&lt;/priority&gt;</span>
    <span class="nt">&lt;/url&gt;</span>
  {% endfor %}
  {% for page in site.pages %}
    {% if page.sitemap != null and page.sitemap != empty %}
      <span class="nt">&lt;url&gt;</span>
        <span class="nt">&lt;loc&gt;</span>{{ site.baseurl }}{{ page.url }}<span class="nt">&lt;/loc&gt;</span>
        <span class="nt">&lt;lastmod&gt;</span>{{ page.sitemap.lastmod | date_to_xmlschema }}<span class="nt">&lt;/lastmod&gt;</span>
        <span class="nt">&lt;changefreq&gt;</span>{{ page.sitemap.changefreq }}<span class="nt">&lt;/changefreq&gt;</span>
        <span class="nt">&lt;priority&gt;</span>{{ page.sitemap.priority }}<span class="nt">&lt;/priority&gt;</span>
       <span class="nt">&lt;/url&gt;</span>
    {% endif %}
  {% endfor %}
<span class="nt">&lt;/urlset&gt;</span>
</code></pre></div>


<p>The <code>{% for post in site.posts %}</code> loops through the posts and finds the pertinent metadata for the sitemap. The same looping method is used for pages, but with a conditional statement to include only the pages with the <code>sitemap</code> variable (and its corresponding values) present.</p>

<pre><code>---
layout: default
sitemap:
    priority: 0.7
    changefreq: monthly
    lastmod: 2013-03-29T12:49:30-05:00
---
</code></pre>

<p>The <code>lastmod</code> variable uses the <a href="http://wwp.greenwichmeantime.com/info/iso.htm">ISO format</a>, which allows for YYYY-MM-DD. It’s bit simpler than including the notation for hours, minutes, seconds, and time zone.</p>

<p>In summary, it’s easy to generate a sitemap.xml for use with Jekyll on GitHub Pages. Thanks again to <a href="https://github.com/havvg">havvg</a> for making available such a great example <a href="https://github.com/havvg/havvg.github.com/blob/master/sitemap.xml">sitemap.xml</a>.</p>

<div class="gray-box">
  <p><strong>More Info:</strong> Visit the official <a href="http://www.sitemaps.org/">sitemaps.org</a> to learn more about the protocol.</p>
</div>

 ]]></content></entry><entry><title type="text">Setting the DNS for GitHub Pages on Namecheap</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/03/setting-the-dns-for-github-pages-on-namecheap/"/><id>http://davidensinger.com/2013/03/setting-the-dns-for-github-pages-on-namecheap</id><published>2013-03-27T16:05:00Z</published><updated>2013-03-27T16:05:00Z</updated><content type="html"><![CDATA[ <p>After pushing my site to <strong>GitHub</strong> and verifying that it worked at <a href="http://davidensinger.github.io/">davidensinger.github.io</a>, I then went to set up my custom domain name. The <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">documentation</a> provided by GitHub is clear on the subject, but I still managed to forget about my subdomains. For more than eight hours, anyone who attempted to visit <a href="http://davidensinger.com/">davidensinger.com</a> was served with a 404, which is <a href="https://twitter.com/DavidEnsinger/status/316642135216619522">rather embarrassing</a> for one who makes a living as a developer.</p>

<p>In the interest of helping others avoid the mistakes I made, here’s a guide to setting up the DNS for GitHub pages on <a href="http://www.namecheap.com/?aff=32887">Namecheap</a>, my registrar of choice.</p>

<div class="yellow-box">
  <p><strong>Please Note:</strong> This guide has been updated on January 7th, 2014 with new settings to support <a href="https://github.com/blog/1715-faster-more-awesome-github-pages">Faster, More Awesome GitHub Pages</a>. Be aware that Namecheap DNS doesn’t seem to support an <strong>ALIAS</strong> record for the APEX domain, so we’ll need to use two <strong>A</strong> records for our DNS, per the instructions in the <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">Setting up a custom domain with Pages</a>. This will not allow us to use the content delivery network, but will still help protect the site against denial of service attacks.</p>
</div>




<div class="red-box">
  <p><strong>Also:</strong> This guide assumes that you’re using an APEX domain.</p>
</div>


<h2>Add a CNAME File to your Repo</h2>

<p>Create a new file and put your domain name in it. Save it as CNAME.</p>

<pre><code>yourtlddomainname.com
</code></pre>

<h2>Find your Host Records</h2>

<p><img src="/assets/img/posts/2013-03-27-namecheap-all-host-records.png" alt="Image of All Host Records" class="media-right img-border" /></p>

<p>Log into your Namecheap account, select the appropriate domain name, and then go to <strong>All Host Records</strong>.</p>

<h2>Set up the DNS</h2>

<ol>
<li>Set the <strong>@</strong> (used to denote the domain name for which you’re configuring the DNS) <strong>IP Address/URL</strong> to <code>192.30.252.153</code> and the <strong>Record Type</strong> to <code>A (Address)</code> with a <strong>TTL</strong> (an acronym for <strong>Time To Live</strong> that refers to the capability of the DNS servers to cache DNS records) of <code>1800</code>.</li>
<li>Set the <strong>www</strong> (the subdomain www) <strong>IP Address/URL</strong> to <code>username.github.io.</code> (with trailing period) and the <strong>Record Type</strong> to <code>CNAME (Alias)</code> with a <strong>TTL</strong> of <code>1800</code>.</li>
<li>In <strong>SUB-DOMAIN SETTINGS</strong>, add an <code>@</code> in the first field, and duplicate the settings in Step 1, save for the <strong>IP Address/URL</strong>, which should be <code>192.30.252.154</code>.</li>
</ol>


<p><img src="/assets/img/posts/2014-01-07-namecheap-dns-settings.png" alt="Image of DNS settings" class="media-center img-border" /></p>

<p>Save and then you’re all set! Please note, however that it may take some time for the changes to the DNS to propagate.</p>

<div class="gray-box">
  <p><strong>More Info:</strong> Google has a pretty good <a href="http://support.google.com/a/bin/answer.py?hl=en&answer=48090">Basic Guide to DNS</a>.</p>
</div>

 ]]></content></entry><entry><title type="text">Installing Jekyll</title><link rel="alternate" type="text/html" href="http://davidensinger.com/2013/03/installing-jekyll/"/><id>http://davidensinger.com/2013/03/installing-jekyll</id><published>2013-03-19T18:55:00Z</published><updated>2013-03-19T18:55:00Z</updated><content type="html"><![CDATA[ <p>After much deliberation, I decided to simplify my blogging workflow. To that end I made the switch from <strong>WordPress to Jekyll</strong>, which is ”a simple, blog aware, static site generator.” Although Jekyll is easy to maintain, it can be confusing to set up, especially for one with a dearth of experience with Ruby.</p>

<p>Thankfully, there is a wealth of documentation available from developers who have also made the switch. With that in mind, I’d like to contribute my experience with installing <strong>Jekyll on OS X Mountain Lion 10.8.3</strong>.</p>

<h2>Getting Started</h2>

<p>The consensus on the internet is to first install <a href="http://developer.apple.com/xcode/">Xcode</a>, which I had (thankfully) already installed (all 1.65 GB of it). Xcode is readily available from the <a href="http://itunes.apple.com/us/app/xcode/id497799835?ls=1&amp;mt=12">App Store</a>, although it does take a bit of time to download and install.</p>

<p>Once you’ve installed Xcode, the next step is to download <strong>Command Line Tools</strong>, which is available through the <strong>Download</strong> tab of the the <strong>Xcode Preferences</strong>. It is through the command line that you&rsquo;ll be installing Jekyll.</p>

<p>After installing the Command Line Tools, open up <strong>Terminal</strong> (or the console of your choice) and install <a href="http://mxcl.github.com/homebrew/">Homebrew</a>, which will make downloading and installing Unix software packages on OS X much easier than without.</p>

<pre><code>ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)"
</code></pre>

<p>The next step is to install <a href="https://rvm.io">RVM</a>, which is an acronym for <strong>Ruby Version Manager</strong>. With this you’ll be able to better manage different versions and implementations of Ruby on your computer.</p>

<pre><code>\curl -#L https://get.rvm.io | bash -s stable --ruby
</code></pre>

<p>I had some difficulty installing Ruby from RVM, which was due to missing dependencies. To remedy this I had to find the missing packages:</p>

<pre><code>rvm requirements
</code></pre>

<p>Which then necessitated running the following:</p>

<pre><code>brew doctor
</code></pre>

<p>That led to <a href="http://stackoverflow.com/questions/10343834/homebrew-wants-me-to-amend-my-path-no-clue-how">a fix for a warning about my paths</a>.</p>

<p>After sorting that out, I was then able to install the list of missing dependencies:</p>

<pre><code>brew install (and then the list of missing packages)
</code></pre>

<p>And then I was able to install Ruby 2.0.0:</p>

<pre><code>rvm install 2.0.0
</code></pre>

<p>Which finally allowed me <a href="https://github.com/mojombo/jekyll/wiki/Install">to install Jekyll</a>:</p>

<pre><code>gem install jekyll
</code></pre>

<h2>Whew!</h2>

<p>That wasn’t so bad, was it? It feels good to work through the install with the satisfaction of knowing that you did it without any help, save for the goodwill efforts of fellow developers and their documentation. High fives to that!</p>
 ]]></content></entry></feed>